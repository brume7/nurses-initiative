import{_ as b,p as V,u as P,s as C,o as U,q as B,a as h,b as e,c as o,d as a,e as s,f as N,j as _,n as x,t as l,g as p,F as r,h as S}from"./index-5c3d2029.js";const $={class:"w-full"},A={class:"w-full max-w-[--max-system-width] mx-auto pt-[5px]"},L={key:0},W=["src","alt"],F={key:0,class:"mt-[60px] w-full max-w-[--max-system-width] mx-auto"},I={key:1,class:"mt-[60px] w-full max-w-[--max-system-width] mx-auto"},R={class:"exo text-[32px] md:text-[48px] text-[--text-color] font-bold mb-[30px]"},T={class:"content-container"},j={class:"avenir text-[--text-color] text-[20px]"},q={key:0,class:"subheading"},z={key:1,class:"main-heading"},D={key:3,class:"video-container"},E=["src"],M={key:2,class:"mt-[60px] w-full max-w-[--max-system-width] mx-auto"},G={class:"exo text-[48px] text-[--text-color] font-bold mb-[50px]"},H={__name:"PostView",props:["id","isAuth"],setup(d){const{id:w,isAuth:J}=d,u=V(),f=P(),{currPost:t,url:y}=C(u);U(async()=>{await u.getPost(w)=="successful"||f.push({name:"home"})}),B(()=>{t.value=null});const g=i=>{let n=i.split("/")[i.split("/").length-1];return n.startsWith("watch?v=")&&(n=n.split("v=")[1].split("&")[0]),`https://www.youtube.com/embed/${n}`};return(i,n)=>{const m=h("VSkeletonLoader"),v=h("v-icon");return e(),o("div",$,[a("section",A,[s(t)?(e(),o("figure",L,[a("img",{src:`${s(y)}/api/v1/uploads/${s(t).imageUrl}`,alt:s(t).title,class:"h-[300px] md:h-[600px] mx-auto"},null,8,W)])):(e(),N(m,{key:1,type:"image",width:"900",height:"900","min-height":"900",class:"mx-auto"}))]),d.isAuth&&s(t)?(e(),o("section",F,[a("p",{class:"float-right text-[--text-color] cursor-pointer",onClick:n[0]||(n[0]=c=>i.likePost())},[_(v,{size:"large",color:"grey",icon:"mdi-heart",class:""}),x(" "+l(s(t).likesCount?s(t).likesCount:0),1)])])):p("",!0),s(t)?(e(),o("section",I,[a("h1",R,l(s(t).title),1),a("div",T,[a("p",j,[(e(!0),o(r,null,S(s(t).content.split(`
`),(c,k)=>(e(),o(r,null,[c.trim().endsWith(":")?(e(),o("h2",q,l(c),1)):c.trim().endsWith(":")?(e(),o("h1",z,l(c),1)):(e(),o(r,{key:2},[x(l(c),1)],64)),k===2&&s(t).videoUrl?(e(),o("div",D,[a("iframe",{src:g(s(t).videoUrl),class:"w-full h-[500px] mt-5",frameborder:"0",allowfullscreen:""},null,8,E)])):p("",!0)],64))),256))])])])):(e(),o("section",M,[a("h1",G,[_(m,{type:"heading",hieght:"300",width:"300"})])]))])}}},O=b(H,[["__scopeId","data-v-89b2e3b6"]]);export{O as default};
